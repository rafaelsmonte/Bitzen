
CREATE TABLE [users]
(
 [id]    int IDENTITY (1, 1) NOT NULL ,
 [email] nvarchar(100) NOT NULL ,
 [senha] nvarchar(100) NOT NULL ,
 [nome]  nvarchar(100) NOT NULL ,


 CONSTRAINT [PK_users] PRIMARY KEY CLUSTERED ([id] ASC)
);
GO




CREATE TABLE [veiculos]
(
 [id]                int IDENTITY (1, 1) NOT NULL ,
 [marca]             varchar(50) NOT NULL ,
 [modelo]            varchar(100) NOT NULL ,
 [ano]               int NOT NULL ,
 [placa]             varchar(7) NOT NULL ,
 [TipoDoVeiculo]     varchar(50) NOT NULL ,
 [TipoDeCombustivel] varchar(50) NOT NULL ,
 [KM]                int NOT NULL ,
 [Responsavel]       int NOT NULL ,


 CONSTRAINT [PK_veiculos] PRIMARY KEY CLUSTERED ([id] ASC),
 CONSTRAINT [FK_26] FOREIGN KEY ([Responsavel])  REFERENCES [users]([id])
);
GO


CREATE NONCLUSTERED INDEX [fkIdx_26] ON [veiculos] 
 (
  [Responsavel] ASC
 )

GO

-- ************************************** [Abastecimentos]

CREATE TABLE [Abastecimentos]
(
 [id]                  int IDENTITY (1, 1) NOT NULL ,
 [Veiculo]             int NOT NULL ,
 [KmDoAbastecimento]   int NOT NULL ,
 [ValorPago]           float NOT NULL ,
 [DataDoAbastecimento] datetime NOT NULL ,
 [Posto]               varchar(100) NOT NULL ,
 [Responsavel]         int NOT NULL ,


 CONSTRAINT [PK_abastecimentos] PRIMARY KEY CLUSTERED ([id] ASC),
 CONSTRAINT [FK_29] FOREIGN KEY ([Veiculo])  REFERENCES [veiculos]([id]),
 CONSTRAINT [FK_36] FOREIGN KEY ([Responsavel])  REFERENCES [users]([id])
);
GO


CREATE NONCLUSTERED INDEX [fkIdx_29] ON [Abastecimentos] 
 (
  [Veiculo] ASC
 )

GO

CREATE NONCLUSTERED INDEX [fkIdx_36] ON [Abastecimentos] 
 (
  [Responsavel] ASC
 )

GO

